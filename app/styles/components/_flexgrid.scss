$flex-gutter: $global-margin;

.flex {
  display: flex;
  flex-flow: row wrap;
  // justify-content: space-between;
  // align-items: center;

  @include media-query(sm){
    @include rem('margin-left', -$global-padding);
    @include rem('margin-right', -$global-padding);    
  }
}

.flex.flex-columns { flex-flow: column wrap; }

[sm-flex-25],
[sm-flex-33],
[sm-flex-66],
[md-flex-25],
[md-flex-33],
[md-flex-66],
[lg-flex-25],
[lg-flex-33],
[lg-flex-66],
[xl-flex-25],
[xl-flex-33],
[xl-flex-66] {
  flex: 1 1 100%;
  @include rem('margin-bottom', $global-margin);

  @include media-query(sm){ @include rem('margin', 0 $global-padding $global-margin); }
}

[sm-flex-25] { @include media-query(sm) { flex: 1 1 calc(25% - #{$flex-gutter); } } }
[sm-flex-33] { @include media-query(sm) { flex: 1 1 calc(33.33% - #{$flex-gutter); } } }
[sm-flex-66] { @include media-query(sm) { flex: 1 1 calc(66.66% - #{$flex-gutter); } } }

[md-flex-25] { @include media-query(md) { flex: 0 1 calc(25% - #{$flex-gutter); } } }
[md-flex-33] { @include media-query(md) { flex: 0 1 calc(33.33% - #{$flex-gutter); } } }
[md-flex-66] { @include media-query(md) { flex: 0 1 calc(66.66% - #{$flex-gutter); } } }

[lg-flex-25] { @include media-query(lg) { flex: 0 1 calc(25% - #{$flex-gutter); } } }
[lg-flex-33] { @include media-query(lg) { flex: 0 1 calc(33.33% - #{$flex-gutter); } } }
[lg-flex-66] { @include media-query(lg) { flex: 0 1 calc(66.66% - #{$flex-gutter); } } }

[xl-flex-25] { @include media-query(xl) { flex: 0 1 calc(25% - #{$flex-gutter); } } }
[xl-flex-33] { @include media-query(xl) { flex: 0 1 calc(33.33% - #{$flex-gutter); } } }
[xl-flex-66] { @include media-query(xl) { flex: 0 1 calc(66.66% - #{$flex-gutter); } } }

[align-center] {
  align-self: center;
}

.flex.flex-stretch {
  // align-items: stretch;
}

.flex.flex-column {
  flex-direction: column;
}

// .flex25,
// .flex33,
// .flex66 {
//   @include rem('margin', 0 $global-padding);
// }

// .flex25 {
//   flex: 1 1 25%;
// }

// .flex33 {
//   flex: 1 1 33%;
// }

// .flex66 { 
//   flex: 1 1 66%;
// }



.flexgrid {
	.gray {
		@include rem('padding', $global-padding);
		background: $gray-light;
	}

	.row {
		@include rem('margin-left', -15px);
		@include rem('margin-right', -15px);

    &:before, &:after {
      display: none;
    }
	}

	[class^="col-"],
  div[class*=" col-"] {
		margin-top: 0;
		@include rem('padding-left', $global-padding);
		@include rem('padding-right', $global-padding);
		@include rem('padding-bottom', $global-margin);
		float: none;

    @include media-query(sm-max) {
      width: 100%;
    }

		@include media-query(xs-max) {
			flex-basis: 100%;
			max-width: 100%;
		}
  }

  .row.row-short {

    [class^="col-"],
    div[class*=" col-"] {
      @include rem('padding-bottom', $global-padding);
    }
  }

	.content {
		@include media-query(sm) {
			height: 100%;
			overflow: hidden;
		}
	}
	&.equalheights { .content { height: 100%; } }
  &.equalheights .card { height: 100%; }
  .row + .row { margin-top: 0; }
}